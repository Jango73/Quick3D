
#pragma once

#include "quick3d_global.h"

// Qt

// Application
#include "CMeshGeometry.h"

//-------------------------------------------------------------------------------------------------

class C3DScene;

//-------------------------------------------------------------------------------------------------

class QUICK3D_EXPORT CMeshByMaterial
{
public:

    //-------------------------------------------------------------------------------------------------
    // Constructeurs et destructeur
    // Constructors and destructor
    //-------------------------------------------------------------------------------------------------

    //!
    CMeshByMaterial();

    //!
    virtual ~CMeshByMaterial();

    //-------------------------------------------------------------------------------------------------
    // Setters
    //-------------------------------------------------------------------------------------------------

    //!
    void addGeometry(CComponent* pContainer, CMeshGeometry* pGeometry);

    //-------------------------------------------------------------------------------------------------
    // Getters
    //-------------------------------------------------------------------------------------------------

    //-------------------------------------------------------------------------------------------------
    // Méthodes de contrôle
    // Control methods
    //-------------------------------------------------------------------------------------------------

    //! Dans cette méthode, l'objet doit faire son rendu
    void paint(CRenderContext* pContext);

    //-------------------------------------------------------------------------------------------------
    // Propriétés
    // Properties
    //-------------------------------------------------------------------------------------------------

protected:

    QMap<CMaterial*, QMap<CGLMeshData*, CComponent*> >  m_vGeometry;
};
