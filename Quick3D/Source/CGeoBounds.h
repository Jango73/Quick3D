
#pragma once

#include "quick3d_global.h"

// Fondations
#include "CGeoloc.h"
#include "CBoundingBox.h"

//-------------------------------------------------------------------------------------------------

class C3DScene;

//-------------------------------------------------------------------------------------------------

class QUICK3D_EXPORT CGeoBounds
{
public:

    //-------------------------------------------------------------------------------------------------
    // Constructeurs et destructeur
    //-------------------------------------------------------------------------------------------------

    //!
    CGeoBounds(CGeoloc gPosition, const CBoundingBox& bSize, double dHeading = 0.0);

    //!
    virtual ~CGeoBounds();

    //-------------------------------------------------------------------------------------------------
    // Getters
    //-------------------------------------------------------------------------------------------------

    //!
    CGeoloc position() const { return m_gPosition; }

    //!
    CBoundingBox& size() { return m_bSize; }

    //!
    const CBoundingBox& size() const { return m_bSize; }

    //-------------------------------------------------------------------------------------------------
    // Méthodes héritées
    //-------------------------------------------------------------------------------------------------

    //! Calcul d'intersection avec un rayon
    virtual Math::RayTracingResult intersect(Math::CRay3 ray);

    //-------------------------------------------------------------------------------------------------
    // Méthodes de contrôle
    //-------------------------------------------------------------------------------------------------

    //!
    bool contains(CGeoloc gPosition) const;

    //-------------------------------------------------------------------------------------------------
    // Méthodes protégées
    //-------------------------------------------------------------------------------------------------

    //!
    void compute();

    //-------------------------------------------------------------------------------------------------
    // Propriétés
    //-------------------------------------------------------------------------------------------------

protected:

    CGeoloc         m_gPosition;
    CBoundingBox    m_bSize;
};
