
#pragma once

// Application
#include "quick3d_global.h"
#include "CMeshGeometry.h"

//-------------------------------------------------------------------------------------------------
// Forward declarations

class C3DScene;

//-------------------------------------------------------------------------------------------------

class QUICK3D_EXPORT CMeshByMaterial
{
public:

    //-------------------------------------------------------------------------------------------------
    // Constructors and destructor
    //-------------------------------------------------------------------------------------------------

    //!
    CMeshByMaterial();

    //!
    virtual ~CMeshByMaterial();

    //-------------------------------------------------------------------------------------------------
    // Setters
    //-------------------------------------------------------------------------------------------------

    //!
    void addGeometry(CComponent* pContainer, CMeshGeometry* pGeometry);

    //-------------------------------------------------------------------------------------------------
    // Getters
    //-------------------------------------------------------------------------------------------------

    //-------------------------------------------------------------------------------------------------
    // Control methods
    //-------------------------------------------------------------------------------------------------

    //! Dans cette méthode, l'objet doit faire son rendu
    void paint(CRenderContext* pContext);

    //-------------------------------------------------------------------------------------------------
    // Properties
    //-------------------------------------------------------------------------------------------------

protected:

    QMap<CMaterial*, QMap<CGLMeshData*, CComponent*> >  m_vGeometry;
};
